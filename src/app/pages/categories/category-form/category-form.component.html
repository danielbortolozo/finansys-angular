<app-bread-crumb
  [items] = "[{text: 'Categoria', link: '/categories'}, {text: pageTitle}]"
></app-bread-crumb>
 
<app-page-header
    [page-title]= "pageTitle"
    button-class="btn-light"
    button-text="<< Voltar"
    button-link="/categories"
    
></app-page-header>

    
<form [formGroup]="resourceForm" (submit)="submitForm()">
   <div class="card">
       <div class="card-header">
           Informações sobre a categoria.
       </div>
       <div class="card-body">
           <div class="form-row">
               
               <div class="form-group col-md-4">
                   <label for="name">Nome</label>
                   <input type="text" class="form-control" id="name" 
                          formControlName="name">

                   <div class="text-danger" *ngIf="resourceForm.get('name').invalid && resourceForm.get('name').touched">
                      
                      <div *ngIf="resourceForm.get('name').errors.required" >
                          O campo nome é obrigatório.
                      </div> 
                      <div *ngIf="resourceForm.get('name').errors.minlength" >
                        O campo nome deve ter no mínimo 3 caracters.
                      </div> 
                   </div>       
               </div>

               <div class="form-group col-md-8">
                   <label for="description">Descrição</label>
                   <input type="text" class="form-control" id="description" 
                          formControlName="description">
               </div>

           </div>
       </div>
   </div> 
   <div class="alert alert-danger mt-4" *ngIf="serverErrorsMessages"> 
       <strong>Erro no servidor</strong>
       <ul>
           <li *ngFor="let error of serverErrorsMessages">{{error}} </li>    
       </ul>
   </div>    
   <button type="submit" class="btn btn-primary btn-lg float-right mt-3" 
           [disabled]="submittingForm || resourceForm.invalid">Salvar</button>
</form>